import{r as i,j as e,L as m,g}from"./index-DtLecUcG.js";import{m as x}from"./mockPosts-Bi876rFD.js";function p(){const[l,n]=i.useState([]),[c,o]=i.useState(!0);i.useEffect(()=>{async function s(){let a=[];try{a=await g.get("/blog/posts")}catch(r){console.error("Erreur serveur lors de la récupération des articles:",r)}finally{const r=x.map(t=>({id:`mock-${t.id}`,title:t.title,slug:t.slug,category:"Conseils",main_image_url:t.image,excerpt:t.excerpt,body:t.content,published_at:new Date,first_name:t.author,last_name:"",isMock:!0}));n([...a,...r]),o(!1)}}s()},[]);const d=s=>{if(s.excerpt)return s.excerpt;const a=document.createElement("DIV");return a.innerHTML=s.body||"",(a.textContent||a.innerText||"").substring(0,150)+"..."};return c?e.jsx("div",{style:{textAlign:"center",padding:"100px"},children:"Chargement..."}):e.jsxs("div",{className:"blog-page",children:[e.jsx("title",{children:"Blog Street-Food - Conseils et Actualités | Foodmoov"}),e.jsxs("div",{className:"blog-page-header",children:[e.jsx("h1",{children:"Le Blog de la Street-Food"}),e.jsx("p",{children:"Retrouvez ici nos derniers articles, conseils et actualités sur le monde culinaire nomade."})]}),e.jsx("div",{className:"blog-list",children:l.map(s=>e.jsxs(m,{to:`/blog/${s.slug}`,className:"post-card",children:[e.jsx("div",{className:"post-card-image-wrapper",children:s.main_image_url?e.jsx("img",{src:s.main_image_url,alt:s.title,className:"post-card-image"}):e.jsx("div",{style:{width:"100%",height:"100%",background:"#f0f0f0"}})}),e.jsxs("div",{className:"post-card-content",children:[e.jsx("span",{className:"post-category",children:s.category||"Conseils"}),e.jsx("h2",{children:s.title}),e.jsx("p",{className:"excerpt",children:d(s)}),e.jsxs("div",{className:"post-card-footer",children:[e.jsx("div",{className:"author-info",children:e.jsxs("p",{className:"post-meta",children:["Par ",s.first_name," ",s.last_name]})}),e.jsx("span",{className:"read-more-link",children:"Lire la suite →"})]})]})]},s.id))})]})}export{p as default};
